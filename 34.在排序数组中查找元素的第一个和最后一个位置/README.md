# [34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/solution/zai-pai-xu-shu-zu-zhong-cha-zhao-yuan-su-de-di-3-4/)
`二分查找`

## [二分查找](https://leetcode-cn.com/leetbook/read/learning-algorithms-with-leetcode/xsz9zc/)

### 解题思路
根据题意，因为数组是有序的，可以通过二分查找来确定第一个位置和最后一位置

#### 二分查找第一个位置
1. 计算中间位置 `mid`
2. 当中间值小于目标值，说明第一个位置在数组的右边，更新区间下界为 `mid + 1`
3. 当中间值等于目标值，说明第一个位置肯定不在数组的右边，更新区间上界为 `mid`
4. 当中间值大于目标值，说明第一个位置在数组的左边，更新区间上界为 `mid - 1`
5. 退出循环体后，数组剩余一个元素，即 `start = end`，判断该元素是否与目标值相等

#### 二分查找最后一个位置
1. 计算中间位置 `mid`，注意这里需要[**向上取整，避免进入死循环**](https://leetcode-cn.com/leetbook/read/learning-algorithms-with-leetcode/xs41qg/)
2. 当中间值小于目标值，说明最后一个位置在数据在的右边，更新区间下界为 `mid + 1`
3. 当中间值等于目标值，说明最后一个位置肯定不在数组的左边，更新区间下界为 `mid`
4. 当中间值大于目标值，说明最后一个位置在数组的左边，更新区间上界为 `mid - 1`
5. 由于先查找第一个位置，保证目标值一定在数组中，那么退出循环体后剩余的一个元素必然是目标值

### 复杂度
- 时间复杂度：O(logN) 执行两次二分查找，为 O(logN)
- 空间复杂度：O(1) 常量空间

## 双指针

### 解题思路
从数组头部和尾部同时移动指针，当某指针遇到目标值时，指针停止更新，如果都没有遇到返回 [-1, -1]
1. 当头尾指针指向的元素与目标值相等，返回下标
2. 如果头指针对应元素小于目标值，指针往前移动一步
3. 如果尾指针对应元素大于目标，指针往后移动一步
4. 如果循环体正常退出，说明没有找到目标值，返回 [-1, -1]

### 复杂度
- 时间复杂度：O(N)，从头和尾同时遍历数组
- 空间复杂度：O(1) 常量空间
