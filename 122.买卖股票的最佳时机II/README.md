# [122. 买卖股票的最佳时机II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/solution/mai-mai-gu-piao-de-zui-jia-shi-ji-ii-by-leetcode-s/)
`贪心算法` `DP`

## 贪心算法

### 解题思路
计算每一天获得正收益，其总和就是允许多次交易的最大收益
1. 只要价格上涨，就会自动触发交易，获取收益，随着时间的推进不断叠加
2. 不需要考虑这种频繁的交易过程，汇总后的收益就是最大收益

### 复杂度
- 时间复杂度：O(N) 遍历数组
- 空间复杂度：O(1) 常量空间

## 动态规划

### 解题思路
根据题意，每天交易结束后只有两种状态，分别是持有一支股票和没有股票，假定 `dp[i][0]` 表示第 i 天交易完后没有股票的最大收益，`dp[i][1]` 表示第 i 天交易完后持有一支股票的最大收益，那么状态转移方程可以表示为：
1. `dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + price)`，这里可解读为若第 i - 1 天没有股票，那么收益就是 `dp[i - 1][0]`；若第 i - 1 天持有股票，那么收益就是 `dp[i - 1][0] + price`，最后取两者最大值，确保收益最大化
2. `dp[i][1] = max(dp[i - 1][1], dp[i - 1][0] - price)`，这里可解读为若第 i - 1 天没有股票那需要买进股票，其收益为 `dp[i - 1][0] - price`，否则收益为 `dp[i - 1][1]`，最后取两者最大值，确保收益最大化
3. 到了最后一天，持有股票的最大收益必然低于不持有股票的最大收益

### 复杂度
- 时间复杂度：O(N) 遍历数组
- 空间复杂度：O(1) 优化前使用二维矩阵存储状态，为 O(N)，优化后使用常量保存两种状态，为 O(1)
