# [7. 整数反转](https://leetcode-cn.com/problems/reverse-integer/solution/zheng-shu-fan-zhuan-by-leetcode-solution-bccn/)

`数学`

## 数学

如何将一个整数反转，只考虑正数的情况下，先利用取模运算，逐步弹出末尾数字，如

1. `12345 % 10` 得到 `5`，之后将 `12345 / 10 = 1234`，随后将数字加到结果的末尾中 `0 * 10 + 5 = 5`
2. `1234 % 10` 得到 `4`，之后将 `1234 / 10 = 123`，随后将数字加到结果的末尾中 `5 * 10 + 4 = 54`
3. `123 % 10` 得到 `3`，之后将 `123 / 10 = 12`，随后将数字加到结果的末尾中 `54 * 10 + 3 = 543`
4. `12 % 10` 得到 `2`，之后将 `12 / 10 = 1`，随后将数字加到结果的末尾中 `543 * 10 + 2 = 5432`
5. `1 % 10` 得到 `1`，之后将 `1 / 10 = 0`，随后将数字加到结果的末尾中 `5432 * 10 + 1 = 54321`

最后 x 变为 0，循环结束，如果同时考虑负数，那么循环结束的条件就是 `while x != 0`

此外，考虑整数反转前后都必须在 `[-2147483648, 2147483647]`，假设 rv 为反转过程的中间结果

- 若 `rv > 214748364`，加上 x 的最高位 `digit >= 0` 后，必定超出范围
- 若 `rv < -214748364`，加上 x 的最高位 `digit <= 0` 后，也超出范围
- 若 `rv = 214748364 或 -214748364`，如果当前 `x != 0`，那么 x 的剩余位，其实就是原始数字的最高，它只能为 0，1，2，-1 或 -2，所以肯定不会超出范围

综上所述，当 `rv > 214748364` 或 `rv < -214748364`，直接返回 0

### 解题思路

1. 初始化结果数字为 `rv = 0`
2. 如果 `rv > 214748364` 或 `rv < -214748364`，直接返回 0
3. 计算 x 的末尾数字  `digit = x % 10`
    - 当 `x < 0`，且 `digit > 0`，`digit = 10 - digit`
    - 当 `x > 0`，直接返回 digit
4. 将数字加入结果数字的末尾 `rv = rv * 10 + digit`
5. 弹出末尾数字后的 `x = (x - digit) // 10`

### 复杂度

- 时间复杂度：O(log|x|) log|x| 为十进制的位数
- 空间复杂度：O(1)
