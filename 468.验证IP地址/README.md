# [468. 验证IP地址](https://leetcode-cn.com/problems/validate-ip-address/solution/yan-zheng-ip-di-zhi-by-leetcode/)

## 正则表达式

### 解题思路

1. 构造匹配 IPv4 的正则表达式 `r'^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]\.)){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$`
2. 构造匹配 IPv6 的正则表达式 `r'^(([0-9a-fA-F]{1,4})\:){7}([0-9a-fA-F]{1,4})$`
3. 如果给定的 IP 地址中含有 `.`，使用 IPv4 表达式进行判断，否则使用 IPv6 表达式进行判断
4. 匹配不成功，返回 `Neither`

#### IPv4

IPv4 包含五种情况

- 如果只包含一位数字：`[0-9]`
- 如果包含两位数字：`[1-9][0-9]`
- 如果包含三位数字
    - Case 1：`1[0-9][0-9]`
    - Case 2：`2[0-4][0-9]`
    - Case 3：`25[0-5]`

#### IPv6

IPv6 只包含一种情况

- 匹配 1 到 4 次 `[0-9a-fA-F]`，即 `([0-9a-fA-F]{1,4})`

### 复杂度

- 时间复杂度：O(1) 因为正则表达式是固定的
- 空间复杂度：O(1)

## 分块判断

基于特定的分隔符 `.` 或 `:`，将 IP 地址分隔成子字符串，且每一个子字符串具有相同格式，相同的判断标准

### 解题思路

#### IPv4

- 将 IP 地址按照 `.` 分隔成四份，如果少于四份，返回 `Neither`
- 对每一块子字符串进行判断
    - 转换成十进制数字，如不在 `[0, 255]` 范围内，返回 `Neither`
    - 如果子字符串是非零数字，且有前置零，返回 `Neither`
- 其余情况符合 IPv4 地址格式

#### IPv6

- 将 IP 地址按照 `:` 分隔成八份，如果少于八份，返回 `Neither`
- 对每一块子字符串进行判断
    - 转换成十进制数字，如不在 `[0, 65535]` 范围内，返回 `Neither`
    - 如果子字符串长度大于 4，同样返回 `Neither`
- 其余情况符合 IPv6 地址格式

### 复杂度

- 时间复杂度：O(N) 遍历字符串进行分隔
- 空间复杂度：O(1)
